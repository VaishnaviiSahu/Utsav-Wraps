<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#9B2335" />
  <title>Utsav Wraps - Beautiful Gift Wrap Potli Bags for Every Festival</title>
  <meta name="description" content="Celebrate every Indian festival with our handcrafted gift wrap potli bags. Wedding, Diwali, Holi, Karva Chauth & more." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    /* ===================== CSS RESET & BASE ===================== */
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #faf6f1;
      --fg: #2a1a10;
      --card: #f5efe6;
      --card-fg: #2a1a10;
      --primary: #9B2335;
      --primary-fg: #fdf5e6;
      --secondary: #c78b2d;
      --secondary-fg: #1a0f04;
      --muted: #ebe3d6;
      --muted-fg: #6b5c4d;
      --accent: #d4952e;
      --accent-fg: #1a0f04;
      --border: #d6c9b8;
      --radius: 0.75rem;
      --font-serif: 'Playfair Display', Georgia, serif;
      --font-sans: 'Poppins', -apple-system, sans-serif;
    }

    html { scroll-behavior: smooth; }
    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    a { color: inherit; text-decoration: none; }
    button { cursor: pointer; border: none; font-family: inherit; }
    input, textarea, select { font-family: inherit; }
    img { max-width: 100%; display: block; }

    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }

    /* ===================== ANIMATIONS ===================== */
    @keyframes fadeInUp { from { opacity:0; transform:translateY(40px); } to { opacity:1; transform:translateY(0); } }
    @keyframes fadeInRight { from { opacity:0; transform:translateX(40px); } to { opacity:1; transform:translateX(0); } }
    @keyframes scaleIn { from { opacity:0; transform:scale(0.85) translateY(20px); } to { opacity:1; transform:scale(1) translateY(0); } }
    @keyframes float { 0%,100%{ transform:translateY(0); } 50%{ transform:translateY(-10px); } }
    @keyframes spinSlow { from { transform:rotate(0); } to { transform:rotate(360deg); } }
    @keyframes slideDown { from { opacity:0; transform:translateY(-20px); } to { opacity:1; transform:translateY(0); } }
    @keyframes cartBounce { 0%,100%{ transform:scale(1); } 50%{ transform:scale(1.3); } }
    @keyframes marquee { 0%{ transform:translateX(0); } 100%{ transform:translateX(-50%); } }
    @keyframes bounce { 0%,100%{ transform:translateY(0); } 50%{ transform:translateY(-6px); } }
    @keyframes shimmerPulse { 0%,100%{ opacity:0.4; } 50%{ opacity:0.7; } }
    @keyframes checkMark { from { transform:scale(0); } to { transform:scale(1); } }

    .scroll-hidden { opacity:0; transform:translateY(40px); transition: opacity 0.7s ease-out, transform 0.7s ease-out; }
    .scroll-visible { opacity:1; transform:translateY(0); }

    /* ===================== RANGOLI BORDER ===================== */
    .rangoli-border {
      height: 4px;
      background-image: repeating-linear-gradient(
        90deg,
        var(--primary) 0px, var(--primary) 4px,
        transparent 4px, transparent 8px,
        var(--accent) 8px, var(--accent) 12px,
        transparent 12px, transparent 16px
      );
    }

    /* ===================== UTILITY CLASSES ===================== */
    .container { max-width: 1200px; margin: 0 auto; padding: 0 16px; }
    @media(min-width:1024px) { .container { padding: 0 32px; } }
    .sr-only { position:absolute; width:1px; height:1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    /* ===================== NAVBAR ===================== */
    .navbar {
      position: fixed; top: 0; left: 0; right: 0; z-index: 50;
      transition: background 0.5s, box-shadow 0.5s;
    }
    .navbar.scrolled {
      background: rgba(250,246,241,0.95);
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    }
    .nav-inner {
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px 16px; max-width: 1200px; margin: 0 auto;
    }
    @media(min-width:1024px) { .nav-inner { padding: 12px 32px; } }

    .nav-brand { display: flex; align-items: center; gap: 10px; background: none; }
    /* ---- Logo placeholder ---- */
    .logo-placeholder {
      width: 44px; height: 44px; border-radius: 50%;
      background: var(--primary); color: var(--primary-fg);
      display: flex; align-items: center; justify-content: center;
      font-family: var(--font-serif); font-weight: 700; font-size: 18px;
      transition: transform 0.3s;
      overflow: hidden;
    }
    .logo-placeholder img { width:100%; height:100%; object-fit:cover; border-radius:50%; }
    .nav-brand:hover .logo-placeholder { transform: scale(1.1); }
    .brand-text { display: flex; flex-direction: column; }
    .brand-name { font-family: var(--font-serif); font-size: 20px; font-weight: 700; color: var(--primary); line-height: 1.2; }
    .brand-tagline { font-size: 9px; text-transform: uppercase; letter-spacing: 0.2em; color: var(--muted-fg); }

    .nav-links { display: none; list-style: none; gap: 32px; align-items: center; }
    @media(min-width:768px) { .nav-links { display: flex; } }
    .nav-links button {
      background: none; font-size: 14px; font-weight: 500;
      color: rgba(42,26,16,0.8); position: relative; transition: color 0.3s;
    }
    .nav-links button::after {
      content: ''; position: absolute; bottom: -4px; left: 0;
      height: 2px; width: 0; background: var(--primary); transition: width 0.3s;
    }
    .nav-links button:hover { color: var(--primary); }
    .nav-links button:hover::after { width: 100%; }

    .nav-actions { display: flex; align-items: center; gap: 10px; }
    .cart-btn {
      position: relative; width: 40px; height: 40px; border-radius: 50%;
      background: rgba(155,35,53,0.1); color: var(--primary);
      display: flex; align-items: center; justify-content: center;
      transition: background 0.3s, color 0.3s;
    }
    .cart-btn:hover { background: var(--primary); color: var(--primary-fg); }
    .cart-btn.bounce svg { animation: cartBounce 0.4s ease-out; }
    .cart-badge {
      position: absolute; top: -4px; right: -4px;
      width: 20px; height: 20px; border-radius: 50%;
      background: var(--accent); color: var(--accent-fg);
      font-size: 10px; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
    }
    .mobile-toggle {
      width: 40px; height: 40px; border-radius: 50%;
      background: rgba(155,35,53,0.1); color: var(--primary);
      display: flex; align-items: center; justify-content: center;
    }
    @media(min-width:768px) { .mobile-toggle { display: none; } }
    .mobile-menu {
      display: none; border-top: 1px solid var(--border);
      background: rgba(250,246,241,0.98); backdrop-filter: blur(12px);
      animation: slideDown 0.4s ease-out;
    }
    .mobile-menu.open { display: block; }
    @media(min-width:768px) { .mobile-menu { display: none !important; } }
    .mobile-menu ul { list-style: none; padding: 16px; display: flex; flex-direction: column; gap: 4px; }
    .mobile-menu button {
      width: 100%; text-align: left; padding: 12px 16px; border-radius: 8px;
      font-size: 14px; font-weight: 500; background: none; transition: background 0.3s;
    }
    .mobile-menu button:hover { background: rgba(155,35,53,0.1); color: var(--primary); }

    /* ===================== HERO ===================== */
    .hero {
      position: relative; min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      overflow: hidden; background: var(--primary);
    }
    .hero-mandala {
      position: absolute; opacity: 0.1;
      animation: spinSlow 8s linear infinite;
    }
    .hero-mandala.left { top: 40px; left: 40px; width: 256px; height: 256px; }
    .hero-mandala.right {
      bottom: 40px; right: 40px; width: 320px; height: 320px;
      animation-direction: reverse;
    }
    .hero-sparkle {
      position: absolute; color: var(--accent);
      animation: float 3s ease-in-out infinite;
    }
    .hero-sparkle:nth-child(1) { top: 20%; left: 15%; opacity: 0.4; animation-delay: 0s; }
    .hero-sparkle:nth-child(2) { top: 30%; right: 20%; opacity: 0.3; animation-delay: 1s; }
    .hero-sparkle:nth-child(3) { bottom: 25%; left: 25%; opacity: 0.35; animation-delay: 2s; }
    .sparkle-svg { width: 32px; height: 32px; }

    .hero-content {
      position: relative; z-index: 10;
      max-width: 800px; padding: 0 16px; text-align: center;
    }
    .hero-badge {
      display: inline-flex; align-items: center; gap: 8px;
      border: 1px solid rgba(212,149,46,0.3); background: rgba(212,149,46,0.1);
      border-radius: 999px; padding: 6px 16px;
      font-size: 11px; text-transform: uppercase; letter-spacing: 0.15em;
      font-weight: 500; color: var(--accent);
      opacity: 0; transform: translateY(8px);
      transition: opacity 1s, transform 1s;
    }
    .hero-badge.visible { opacity: 1; transform: translateY(0); }
    .hero-badge svg { width: 12px; height: 12px; }
    .hero-title {
      margin-top: 24px;
      font-family: var(--font-serif); font-weight: 700;
      font-size: clamp(48px, 10vw, 96px); line-height: 1.05;
      color: var(--primary-fg);
      text-wrap: balance;
      opacity: 0; transform: translateY(8px);
      transition: opacity 1s 0.2s, transform 1s 0.2s;
    }
    .hero-title.visible { opacity: 1; transform: translateY(0); }
    .hero-desc {
      margin-top: 24px; max-width: 540px; margin-left: auto; margin-right: auto;
      font-size: 16px; color: rgba(253,245,230,0.7); line-height: 1.6;
      opacity: 0; transform: translateY(8px);
      transition: opacity 1s 0.4s, transform 1s 0.4s;
    }
    .hero-desc.visible { opacity: 1; transform: translateY(0); }
    .hero-buttons {
      margin-top: 40px;
      display: flex; flex-wrap: wrap; gap: 16px;
      justify-content: center;
      opacity: 0; transform: translateY(8px);
      transition: opacity 1s 0.6s, transform 1s 0.6s;
    }
    .hero-buttons.visible { opacity: 1; transform: translateY(0); }
    .btn-shop {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 14px 32px; border-radius: 999px;
      background: var(--accent); color: var(--accent-fg);
      font-size: 14px; font-weight: 600;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .btn-shop:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(212,149,46,0.3); }
    .btn-story {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 14px 32px; border-radius: 999px;
      border: 1px solid rgba(253,245,230,0.3);
      background: none; color: rgba(253,245,230,0.9);
      font-size: 14px; font-weight: 500;
      transition: background 0.3s;
    }
    .btn-story:hover { background: rgba(253,245,230,0.1); }

    .scroll-indicator {
      position: absolute; bottom: 32px; left: 50%; transform: translateX(-50%);
      display: flex; flex-direction: column; align-items: center; gap: 8px;
      opacity: 0; transition: opacity 1s 0.8s;
    }
    .scroll-indicator.visible { opacity: 1; }
    .scroll-indicator span { font-size: 10px; text-transform: uppercase; letter-spacing: 0.15em; color: rgba(253,245,230,0.5); }
    .scroll-pill {
      width: 20px; height: 40px; border: 1px solid rgba(253,245,230,0.3);
      border-radius: 999px; padding: 4px; display: flex; justify-content: center;
    }
    .scroll-pill-dot {
      width: 100%; height: 8px; border-radius: 999px;
      background: var(--accent); animation: bounce 1.5s infinite;
    }

    /* ===================== MARQUEE ===================== */
    .marquee-wrap { overflow: hidden; background: var(--accent); padding: 12px 0; }
    .marquee-track { display: flex; white-space: nowrap; animation: marquee 30s linear infinite; }
    .marquee-item {
      display: inline-flex; align-items: center; gap: 12px;
      margin: 0 24px; font-size: 14px; font-weight: 500; color: var(--accent-fg);
    }
    .marquee-dot {
      display: inline-block; width: 6px; height: 6px;
      border-radius: 50%; background: rgba(26,15,4,0.4);
    }

    /* ===================== PRODUCTS ===================== */
    .products-section { padding: 80px 0 80px; position: relative; }
    @media(min-width:1024px) { .products-section { padding: 112px 0; } }
    .section-label {
      font-size: 12px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.25em; color: var(--primary); text-align: center;
    }
    .section-title {
      margin-top: 12px; font-family: var(--font-serif); font-size: clamp(28px, 5vw, 48px);
      font-weight: 700; color: var(--fg); text-align: center; text-wrap: balance;
    }
    .section-desc {
      margin: 16px auto 0; max-width: 500px; font-size: 14px;
      line-height: 1.6; color: var(--muted-fg); text-align: center;
    }
    .filter-tabs {
      display: flex; flex-wrap: wrap; justify-content: center;
      gap: 8px; margin-top: 40px;
    }
    .filter-tab {
      padding: 8px 20px; border-radius: 999px; font-size: 12px; font-weight: 500;
      background: var(--muted); color: var(--muted-fg); transition: all 0.3s;
    }
    .filter-tab:hover { background: rgba(155,35,53,0.1); color: var(--primary); }
    .filter-tab.active { background: var(--primary); color: var(--primary-fg); box-shadow: 0 4px 12px rgba(155,35,53,0.2); }

    .products-grid {
      display: grid; gap: 24px; margin-top: 48px;
      grid-template-columns: 1fr;
    }
    @media(min-width:640px) { .products-grid { grid-template-columns: repeat(2, 1fr); } }
    @media(min-width:1024px) { .products-grid { grid-template-columns: repeat(3, 1fr); } }

    /* Product Card */
    .product-card {
      display: flex; flex-direction: column;
      border-radius: 16px; border: 1px solid var(--border);
      background: var(--card); overflow: hidden;
      transition: transform 0.5s, box-shadow 0.5s, border-color 0.5s;
    }
    .product-card:hover { transform: translateY(-8px); box-shadow: 0 12px 40px rgba(0,0,0,0.1); }
    .product-img-wrap {
      position: relative; aspect-ratio: 1; overflow: hidden;
    }
    .product-img-wrap.wedding { background: linear-gradient(135deg, #fde2e8, #fdf1e0); }
    .product-img-wrap.karva-chauth { background: linear-gradient(135deg, #fde2e2, #fdecd0); }
    .product-img-wrap.holi { background: linear-gradient(135deg, #fde2f0, #fdf6d0); }
    .product-img-wrap.diwali { background: linear-gradient(135deg, #ece2fd, #fdf1e0); }
    .product-img-wrap.sawan { background: linear-gradient(135deg, #d8f5e2, #d0f5f0); }
    .product-img-wrap.gangaur { background: linear-gradient(135deg, #fde2f0, #fde2fd); }

    .img-placeholder {
      position: absolute; inset: 0;
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; gap: 12px;
    }
    .img-placeholder-icon {
      width: 64px; height: 64px; border-radius: 50%;
      background: rgba(255,255,255,0.8); box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      display: flex; align-items: center; justify-content: center;
    }
    .img-placeholder-icon svg { width: 40px; height: 40px; color: var(--muted-fg); opacity: 0.5; }
    .img-placeholder span { font-size: 12px; font-weight: 500; color: var(--muted-fg); opacity: 0.6; }

    .occasion-badge {
      position: absolute; left: 12px; top: 12px;
      padding: 4px 12px; border-radius: 999px;
      background: rgba(155,35,53,0.9); color: var(--primary-fg);
      font-size: 10px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.1em; backdrop-filter: blur(4px);
    }
    .card-overlay {
      position: absolute; inset: 0;
      display: flex; align-items: center; justify-content: center; gap: 12px;
      background: rgba(42,26,16,0); opacity: 0;
      transition: all 0.3s;
    }
    .product-card:hover .card-overlay { background: rgba(42,26,16,0.2); opacity: 1; }
    .overlay-btn {
      width: 44px; height: 44px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 4px 16px rgba(0,0,0,0.15);
      transition: transform 0.2s;
    }
    .overlay-btn:hover { transform: scale(1.1); }
    .overlay-btn.view { background: var(--card); color: var(--fg); }
    .overlay-btn.add { background: var(--primary); color: var(--primary-fg); }
    .overlay-btn svg { width: 20px; height: 20px; }

    .card-info { padding: 20px; display: flex; flex-direction: column; gap: 8px; flex: 1; }
    .card-name {
      font-family: var(--font-serif); font-size: 15px; font-weight: 600;
      line-height: 1.4; color: var(--card-fg); transition: color 0.3s;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
    .product-card:hover .card-name { color: var(--primary); }
    .card-bottom { display: flex; align-items: flex-end; justify-content: space-between; margin-top: auto; padding-top: 12px; }
    .card-price { font-size: 24px; font-weight: 700; color: var(--primary); }
    .btn-add-cart {
      padding: 8px 16px; border-radius: 999px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 12px; font-weight: 600;
      transition: background 0.3s, box-shadow 0.3s, transform 0.15s;
    }
    .btn-add-cart:hover { background: rgba(155,35,53,0.9); box-shadow: 0 4px 12px rgba(155,35,53,0.2); }
    .btn-add-cart:active { transform: scale(0.95); }

    /* ===================== PRODUCT DETAIL MODAL ===================== */
    .modal-backdrop {
      position: fixed; inset: 0; z-index: 60;
      display: flex; align-items: center; justify-content: center; padding: 16px;
      background: rgba(42,26,16,0.5); backdrop-filter: blur(4px);
      opacity: 0; pointer-events: none; transition: opacity 0.3s;
    }
    .modal-backdrop.open { opacity: 1; pointer-events: auto; }
    .modal-content {
      position: relative; z-index: 10;
      width: 100%; max-width: 720px; max-height: 90vh; overflow-y: auto;
      border-radius: 16px; background: var(--card); box-shadow: 0 24px 80px rgba(0,0,0,0.2);
      transform: scale(0.85) translateY(20px); transition: transform 0.4s cubic-bezier(0.16,1,0.3,1);
    }
    .modal-backdrop.open .modal-content { transform: scale(1) translateY(0); }
    .modal-close {
      position: absolute; right: 16px; top: 16px; z-index: 20;
      width: 36px; height: 36px; border-radius: 50%;
      background: rgba(255,255,255,0.8); backdrop-filter: blur(4px);
      display: flex; align-items: center; justify-content: center;
      color: var(--muted-fg); transition: all 0.3s;
    }
    .modal-close:hover { background: var(--card); color: var(--fg); }
    .modal-close svg { width: 16px; height: 16px; }
    .modal-grid { display: grid; }
    @media(min-width:768px) { .modal-grid { grid-template-columns: 1fr 1fr; } }
    .modal-img { position: relative; aspect-ratio: 1; }
    .modal-img .occasion-badge { left: 16px; top: 16px; font-size: 12px; }
    .modal-details { padding: 24px; display: flex; flex-direction: column; gap: 20px; }
    @media(min-width:768px) { .modal-details { padding: 32px; } }
    .modal-title { font-family: var(--font-serif); font-size: 24px; font-weight: 700; color: var(--card-fg); line-height: 1.3; }
    .modal-rating { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
    .stars { display: flex; gap: 2px; }
    .stars svg { width: 16px; height: 16px; fill: var(--accent); color: var(--accent); }
    .rating-text { font-size: 12px; color: var(--muted-fg); }
    .modal-price-row { display: flex; align-items: baseline; gap: 8px; }
    .modal-price { font-size: 28px; font-weight: 700; color: var(--primary); }
    .modal-price-old { font-size: 14px; color: var(--muted-fg); text-decoration: line-through; }
    .discount-badge {
      padding: 2px 8px; border-radius: 999px;
      background: #dcfce7; color: #15803d; font-size: 12px; font-weight: 500;
    }
    .modal-desc { font-size: 14px; line-height: 1.6; color: var(--muted-fg); }
    .detail-label {
      font-size: 11px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.15em; color: rgba(42,26,16,0.5);
    }
    .color-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
    .color-tag {
      padding: 4px 12px; border-radius: 999px;
      border: 1px solid var(--border); background: var(--muted);
      font-size: 12px; font-weight: 500; color: var(--card-fg);
    }
    .features-list { list-style: none; margin-top: 8px; display: flex; flex-direction: column; gap: 6px; }
    .features-list li {
      display: flex; align-items: center; gap: 8px;
      font-size: 14px; color: var(--muted-fg);
    }
    .features-list li svg { width: 14px; height: 14px; color: #16a34a; flex-shrink: 0; }
    .qty-row {
      display: flex; align-items: center; gap: 16px;
      border-top: 1px solid var(--border); padding-top: 20px; margin-top: auto;
    }
    .qty-control {
      display: flex; align-items: center; gap: 4px;
      border: 1px solid var(--border); border-radius: 999px; background: var(--muted);
    }
    .qty-btn {
      width: 32px; height: 32px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: none; transition: background 0.3s;
    }
    .qty-btn:hover { background: var(--card); }
    .qty-btn svg { width: 14px; height: 14px; }
    .qty-val { width: 32px; text-align: center; font-size: 14px; font-weight: 600; }
    .btn-add-full {
      width: 100%; padding: 14px; border-radius: 999px;
      font-size: 14px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.3s; margin-top: 12px;
    }
    .btn-add-full.default { background: var(--primary); color: var(--primary-fg); }
    .btn-add-full.default:hover { box-shadow: 0 8px 24px rgba(155,35,53,0.2); }
    .btn-add-full.added { background: #16a34a; color: #fff; }
    .btn-add-full:active { transform: scale(0.98); }
    .btn-add-full svg { width: 16px; height: 16px; }
    .trust-row {
      display: flex; align-items: center; justify-content: center; gap: 24px;
      padding-top: 8px;
    }
    .trust-item { display: flex; align-items: center; gap: 6px; font-size: 11px; color: var(--muted-fg); }
    .trust-item svg { width: 14px; height: 14px; }

    /* ===================== CART SIDEBAR ===================== */
    .cart-backdrop {
      position: fixed; inset: 0; z-index: 60;
      background: rgba(42,26,16,0.4); backdrop-filter: blur(4px);
      opacity: 0; pointer-events: none; transition: opacity 0.3s;
    }
    .cart-backdrop.open { opacity: 1; pointer-events: auto; }
    .cart-sidebar {
      position: absolute; right: 0; top: 0;
      width: 100%; max-width: 400px; height: 100%;
      background: var(--card); box-shadow: -8px 0 40px rgba(0,0,0,0.15);
      display: flex; flex-direction: column;
      transform: translateX(100%); transition: transform 0.3s ease-out;
    }
    .cart-backdrop.open .cart-sidebar { transform: translateX(0); }
    .cart-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 24px; border-bottom: 1px solid var(--border);
    }
    .cart-header-left { display: flex; align-items: center; gap: 12px; }
    .cart-header-left svg { width: 20px; height: 20px; color: var(--primary); }
    .cart-header-left h2 { font-family: var(--font-serif); font-size: 18px; font-weight: 700; }
    .cart-count-badge {
      padding: 2px 8px; border-radius: 999px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 10px; font-weight: 700;
    }
    .cart-close-btn {
      width: 32px; height: 32px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: none; color: var(--muted-fg); transition: background 0.3s;
    }
    .cart-close-btn:hover { background: var(--muted); color: var(--fg); }
    .cart-close-btn svg { width: 16px; height: 16px; }
    .cart-body { flex: 1; overflow-y: auto; padding: 16px 24px; }
    .cart-empty {
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; gap: 16px; padding: 80px 0; text-align: center;
    }
    .cart-empty-icon {
      width: 80px; height: 80px; border-radius: 50%; background: var(--muted);
      display: flex; align-items: center; justify-content: center;
    }
    .cart-empty-icon svg { width: 40px; height: 40px; color: var(--muted-fg); opacity: 0.4; }
    .cart-empty p { font-size: 14px; color: var(--muted-fg); }
    .btn-continue {
      padding: 10px 24px; border-radius: 999px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 14px; font-weight: 600; transition: box-shadow 0.3s;
    }
    .btn-continue:hover { box-shadow: 0 4px 16px rgba(155,35,53,0.2); }
    .cart-items { display: flex; flex-direction: column; gap: 16px; }
    .cart-item {
      display: flex; gap: 16px; padding: 12px; border-radius: 12px;
      border: 1px solid var(--border); background: var(--bg); transition: box-shadow 0.3s;
    }
    .cart-item:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
    .cart-item-img {
      width: 80px; height: 80px; border-radius: 8px; background: var(--muted);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }
    .cart-item-img svg { width: 32px; height: 32px; color: var(--muted-fg); opacity: 0.3; }
    .cart-item-info { display: flex; flex-direction: column; gap: 4px; flex: 1; min-width: 0; }
    .cart-item-name {
      font-size: 12px; font-weight: 600; color: var(--card-fg);
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
    .cart-item-price { font-size: 14px; font-weight: 700; color: var(--primary); }
    .cart-item-actions { display: flex; align-items: center; justify-content: space-between; margin-top: auto; }
    .mini-qty {
      display: flex; align-items: center; gap: 4px;
      border: 1px solid var(--border); border-radius: 999px; background: var(--muted);
    }
    .mini-qty button {
      width: 24px; height: 24px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: none; transition: background 0.3s;
    }
    .mini-qty button:hover { background: var(--card); }
    .mini-qty button svg { width: 12px; height: 12px; }
    .mini-qty span { width: 24px; text-align: center; font-size: 12px; font-weight: 600; }
    .remove-btn { background: none; color: var(--muted-fg); transition: color 0.3s; }
    .remove-btn:hover { color: #dc2626; }
    .remove-btn svg { width: 14px; height: 14px; }
    .clear-all-btn {
      background: none; font-size: 12px; color: var(--muted-fg);
      text-decoration: underline; transition: color 0.3s; margin-top: 4px;
    }
    .clear-all-btn:hover { color: #dc2626; }
    .cart-footer { border-top: 1px solid var(--border); padding: 20px 24px; }
    .cart-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
    .cart-row .label { font-size: 14px; color: var(--muted-fg); }
    .cart-row .value { font-size: 14px; font-weight: 500; color: var(--card-fg); }
    .cart-row .value.green { color: #16a34a; }
    .cart-total-row { display: flex; align-items: center; justify-content: space-between; border-top: 1px solid var(--border); padding-top: 12px; margin-bottom: 20px; margin-top: 8px; }
    .cart-total-label { font-size: 16px; font-weight: 700; color: var(--card-fg); }
    .cart-total-price { font-size: 20px; font-weight: 700; color: var(--primary); }
    .btn-checkout {
      width: 100%; padding: 14px; border-radius: 999px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 14px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.3s;
    }
    .btn-checkout:hover { box-shadow: 0 8px 24px rgba(155,35,53,0.2); }
    .btn-checkout:active { transform: scale(0.98); }
    .btn-checkout svg { width: 16px; height: 16px; }

    /* ===================== CHECKOUT MODAL ===================== */
    .checkout-backdrop {
      position: fixed; inset: 0; z-index: 70;
      display: flex; align-items: center; justify-content: center; padding: 16px;
      background: rgba(42,26,16,0.5); backdrop-filter: blur(4px);
      opacity: 0; pointer-events: none; transition: opacity 0.3s;
    }
    .checkout-backdrop.open { opacity: 1; pointer-events: auto; }
    .checkout-modal {
      position: relative; z-index: 10;
      width: 100%; max-width: 640px; max-height: 90vh; overflow-y: auto;
      border-radius: 16px; background: var(--card); box-shadow: 0 24px 80px rgba(0,0,0,0.2);
      transform: scale(0.85) translateY(20px); transition: transform 0.4s cubic-bezier(0.16,1,0.3,1);
    }
    .checkout-backdrop.open .checkout-modal { transform: scale(1) translateY(0); }
    .checkout-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 24px; border-bottom: 1px solid var(--border);
    }
    .checkout-header-left { display: flex; align-items: center; gap: 12px; }
    .back-btn {
      width: 32px; height: 32px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: none; color: var(--muted-fg); transition: background 0.3s;
    }
    .back-btn:hover { background: var(--muted); }
    .back-btn svg { width: 16px; height: 16px; }
    .checkout-title { font-family: var(--font-serif); font-size: 18px; font-weight: 700; }

    /* Steps indicator */
    .steps-indicator { display: flex; align-items: center; gap: 0; padding: 16px 24px; }
    .step-item { display: flex; align-items: center; flex: 1; }
    .step-circle {
      width: 28px; height: 28px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 700; flex-shrink: 0;
      transition: background 0.3s, color 0.3s;
    }
    .step-circle.done { background: #16a34a; color: #fff; }
    .step-circle.active { background: var(--primary); color: var(--primary-fg); }
    .step-circle.pending { background: var(--muted); color: var(--muted-fg); }
    .step-circle svg { width: 14px; height: 14px; }
    .step-label { font-size: 12px; font-weight: 500; margin-left: 8px; display: none; }
    @media(min-width:640px) { .step-label { display: block; } }
    .step-label.active { color: var(--fg); }
    .step-label.dim { color: var(--muted-fg); }
    .step-line { height: 2px; flex: 1; margin: 0 12px; transition: background 0.3s; }
    .step-line.done { background: #16a34a; }
    .step-line.pending { background: var(--border); }

    .checkout-body { padding: 0 24px 24px; }
    .checkout-body .form-grid { display: grid; gap: 16px; }
    @media(min-width:640px) { .checkout-body .form-grid-2 { grid-template-columns: 1fr 1fr; } }
    .form-group { display: flex; flex-direction: column; gap: 6px; }
    .form-label {
      font-size: 11px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.1em; color: rgba(42,26,16,0.5);
    }
    .form-input {
      padding: 10px 16px; border-radius: 8px;
      border: 1px solid var(--border); background: var(--bg);
      font-size: 14px; color: var(--fg); outline: none; transition: box-shadow 0.3s;
    }
    .form-input:focus { box-shadow: 0 0 0 3px rgba(155,35,53,0.15); }
    .form-input::placeholder { color: var(--muted-fg); }
    textarea.form-input { resize: none; }
    select.form-input { appearance: auto; }

    .order-summary-mini {
      border: 1px solid var(--border); border-radius: 12px;
      background: rgba(235,227,214,0.5); padding: 16px; margin-top: 16px;
    }
    .summary-title { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: rgba(42,26,16,0.5); margin-bottom: 12px; }
    .summary-item { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
    .summary-item-img {
      width: 40px; height: 40px; border-radius: 8px; background: var(--bg);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }
    .summary-item-img svg { width: 20px; height: 20px; color: var(--muted-fg); opacity: 0.3; }
    .summary-item-name { flex: 1; font-size: 12px; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .summary-item-price { font-size: 12px; font-weight: 700; color: var(--primary); white-space: nowrap; }
    .summary-total-row { display: flex; align-items: center; justify-content: space-between; border-top: 1px solid var(--border); padding-top: 12px; margin-top: 8px; }
    .summary-total-label { font-size: 14px; font-weight: 700; }
    .summary-total-price { font-size: 18px; font-weight: 700; color: var(--primary); }

    .btn-primary-full {
      width: 100%; padding: 14px; border-radius: 999px; margin-top: 20px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 14px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.3s;
    }
    .btn-primary-full:hover { box-shadow: 0 8px 24px rgba(155,35,53,0.2); }
    .btn-primary-full:active { transform: scale(0.98); }
    .btn-primary-full:disabled { opacity: 0.6; cursor: not-allowed; }
    .btn-primary-full svg { width: 16px; height: 16px; }

    /* Payment methods */
    .payment-methods { display: grid; gap: 12px; }
    @media(min-width:640px) { .payment-methods { grid-template-columns: 1fr 1fr; } }
    .payment-option {
      display: flex; align-items: center; gap: 12px;
      padding: 16px; border-radius: 12px; border: 2px solid var(--border);
      background: var(--bg); text-align: left; transition: all 0.3s;
    }
    .payment-option:hover { border-color: rgba(155,35,53,0.3); }
    .payment-option.selected { border-color: var(--primary); background: rgba(155,35,53,0.05); }
    .payment-icon {
      width: 40px; height: 40px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center; transition: all 0.3s;
    }
    .payment-icon.active { background: var(--primary); color: var(--primary-fg); }
    .payment-icon.inactive { background: var(--muted); color: var(--muted-fg); }
    .payment-icon svg { width: 20px; height: 20px; }
    .payment-label { font-size: 14px; font-weight: 600; color: var(--card-fg); }
    .payment-desc { font-size: 11px; color: var(--muted-fg); }
    .payment-detail-box {
      border: 1px solid var(--border); border-radius: 12px;
      background: rgba(235,227,214,0.3); padding: 16px; margin-top: 12px;
      animation: fadeInUp 0.2s ease-out;
    }
    .payment-detail-box p { font-size: 14px; color: var(--muted-fg); }
    .amount-box {
      display: flex; align-items: center; justify-content: space-between;
      border: 1px solid var(--border); border-radius: 12px;
      background: rgba(235,227,214,0.3); padding: 16px; margin-top: 12px;
    }
    .amount-label { font-weight: 500; }
    .amount-value { font-size: 24px; font-weight: 700; color: var(--primary); }
    .security-note {
      display: flex; align-items: center; justify-content: center; gap: 6px;
      font-size: 11px; color: var(--muted-fg); margin-top: 12px;
    }
    .security-note svg { width: 12px; height: 12px; }

    /* Success */
    .success-view {
      display: flex; flex-direction: column; align-items: center;
      gap: 20px; padding: 40px 0; text-align: center;
      animation: scaleIn 0.5s ease-out;
    }
    .success-circle {
      width: 80px; height: 80px; border-radius: 50%;
      background: #dcfce7; display: flex; align-items: center; justify-content: center;
    }
    .success-circle svg { width: 40px; height: 40px; color: #16a34a; animation: checkMark 0.3s ease-out; }
    .success-title { font-family: var(--font-serif); font-size: 24px; font-weight: 700; }
    .success-desc { font-size: 14px; color: var(--muted-fg); }
    .order-id { font-family: monospace; font-weight: 600; color: var(--fg); }
    .success-box {
      border: 1px solid var(--border); border-radius: 12px;
      background: rgba(235,227,214,0.5); padding: 16px; text-align: left;
      width: 100%; max-width: 320px;
    }
    .success-box p { font-size: 12px; color: var(--muted-fg); }

    /* ===================== ABOUT SECTION ===================== */
    .about-section { padding: 80px 0; background: var(--primary); position: relative; }
    @media(min-width:1024px) { .about-section { padding: 112px 0; } }
    .about-mandala {
      position: absolute; top: 0; right: 0; width: 256px; height: 256px; opacity: 0.05;
    }
    .about-mandala svg { width: 100%; height: 100%; color: var(--primary-fg); }
    .about-label { font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.25em; color: var(--accent); text-align: center; }
    .about-title {
      margin-top: 12px; font-family: var(--font-serif);
      font-size: clamp(28px, 5vw, 48px); font-weight: 700;
      color: var(--primary-fg); text-align: center; text-wrap: balance;
    }
    .about-desc {
      margin: 20px auto 0; max-width: 600px; font-size: 14px;
      line-height: 1.6; color: rgba(253,245,230,0.6); text-align: center;
    }
    .values-grid {
      display: grid; gap: 24px; margin-top: 56px;
      grid-template-columns: 1fr;
    }
    @media(min-width:640px) { .values-grid { grid-template-columns: repeat(2, 1fr); } }
    @media(min-width:1024px) { .values-grid { grid-template-columns: repeat(4, 1fr); } }
    .value-card {
      padding: 24px; border-radius: 16px;
      border: 1px solid rgba(253,245,230,0.1);
      background: rgba(253,245,230,0.05);
      transition: all 0.5s;
    }
    .value-card:hover { background: rgba(253,245,230,0.1); transform: translateY(-4px); }
    .value-icon {
      width: 48px; height: 48px; border-radius: 12px;
      background: rgba(212,149,46,0.2); color: var(--accent);
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 16px; transition: transform 0.3s;
    }
    .value-card:hover .value-icon { transform: scale(1.1); }
    .value-icon svg { width: 24px; height: 24px; }
    .value-title { font-family: var(--font-serif); font-size: 18px; font-weight: 600; color: var(--primary-fg); }
    .value-desc { margin-top: 8px; font-size: 14px; line-height: 1.6; color: rgba(253,245,230,0.5); }

    /* ===================== TESTIMONIALS ===================== */
    .testimonials-section { padding: 80px 0; }
    @media(min-width:1024px) { .testimonials-section { padding: 112px 0; } }
    .testimonials-grid {
      display: grid; gap: 24px; margin-top: 48px;
      grid-template-columns: 1fr;
    }
    @media(min-width:768px) { .testimonials-grid { grid-template-columns: repeat(3, 1fr); } }
    .testimonial-card {
      display: flex; flex-direction: column; gap: 16px;
      border-radius: 16px; border: 1px solid var(--border);
      background: var(--card); padding: 24px;
      transition: all 0.5s;
    }
    .testimonial-card:hover { box-shadow: 0 8px 32px rgba(0,0,0,0.08); transform: translateY(-4px); }
    .quote-icon svg { width: 32px; height: 32px; color: rgba(155,35,53,0.2); }
    .testimonial-text { flex: 1; font-size: 14px; line-height: 1.6; color: var(--muted-fg); font-style: italic; }
    .testimonial-footer { border-top: 1px solid var(--border); padding-top: 16px; }
    .testimonial-name { font-size: 14px; font-weight: 600; color: var(--card-fg); }
    .testimonial-loc { font-size: 12px; color: var(--muted-fg); }

    /* ===================== CONTACT ===================== */
    .contact-section { padding: 80px 0; background: var(--muted); }
    @media(min-width:1024px) { .contact-section { padding: 112px 0; } }
    .contact-grid { display: grid; gap: 32px; margin-top: 48px; }
    @media(min-width:1024px) { .contact-grid { grid-template-columns: 1fr 1fr; } }
    .contact-info-text { font-size: 14px; line-height: 1.6; color: var(--muted-fg); margin-bottom: 24px; }
    .contact-item { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }
    .contact-icon {
      width: 40px; height: 40px; border-radius: 50%;
      background: rgba(155,35,53,0.1); color: var(--primary);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }
    .contact-icon svg { width: 20px; height: 20px; }
    .contact-label-sm { font-size: 12px; color: var(--muted-fg); }
    .contact-value { font-size: 14px; font-weight: 500; color: var(--fg); }
    .contact-form {
      border: 1px solid var(--border); border-radius: 16px;
      background: var(--card); padding: 24px;
      display: flex; flex-direction: column; gap: 16px;
    }
    .btn-send {
      padding: 12px; border-radius: 999px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 14px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.3s;
    }
    .btn-send:hover { box-shadow: 0 8px 24px rgba(155,35,53,0.2); }
    .btn-send:active { transform: scale(0.98); }
    .btn-send svg { width: 16px; height: 16px; }

    /* ===================== FOOTER ===================== */
    .site-footer { background: var(--fg); padding: 48px 0; }
    .footer-grid { display: grid; gap: 32px; }
    @media(min-width:768px) { .footer-grid { grid-template-columns: 1.5fr 1fr 1fr 1.5fr; } }
    .footer-brand { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
    .footer-logo {
      width: 36px; height: 36px; border-radius: 50%;
      background: var(--primary); color: var(--primary-fg);
      display: flex; align-items: center; justify-content: center;
      font-family: var(--font-serif); font-weight: 700; font-size: 16px;
      overflow: hidden;
    }
    .footer-logo img { width:100%; height:100%; object-fit:cover; border-radius:50%; }
    .footer-brand-name { font-family: var(--font-serif); font-size: 18px; font-weight: 700; color: var(--bg); }
    .footer-brand-desc { font-size: 12px; color: rgba(250,246,241,0.5); line-height: 1.6; }
    .footer-col-title { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.15em; color: rgba(250,246,241,0.7); margin-bottom: 12px; }
    .footer-links { list-style: none; display: flex; flex-direction: column; gap: 8px; }
    .footer-links li { font-size: 14px; color: rgba(250,246,241,0.5); cursor: pointer; transition: color 0.3s; }
    .footer-links li:hover { color: var(--accent); }
    .newsletter-desc { font-size: 12px; color: rgba(250,246,241,0.5); margin-bottom: 12px; }
    .newsletter-row { display: flex; gap: 8px; }
    .newsletter-input {
      flex: 1; padding: 8px 12px; border-radius: 8px;
      border: 1px solid rgba(250,246,241,0.2);
      background: rgba(250,246,241,0.1);
      font-size: 12px; color: var(--bg); outline: none;
    }
    .newsletter-input::placeholder { color: rgba(250,246,241,0.3); }
    .newsletter-input:focus { box-shadow: 0 0 0 1px var(--accent); }
    .newsletter-btn {
      padding: 8px 16px; border-radius: 8px;
      background: var(--accent); color: var(--accent-fg);
      font-size: 12px; font-weight: 600; transition: background 0.3s;
    }
    .newsletter-btn:hover { background: rgba(212,149,46,0.9); }
    .footer-bottom {
      display: flex; flex-direction: column; align-items: center; gap: 12px;
      border-top: 1px solid rgba(250,246,241,0.1); margin-top: 40px; padding-top: 32px;
    }
    .footer-heart { display: flex; align-items: center; gap: 4px; font-size: 12px; color: rgba(250,246,241,0.4); }
    .footer-heart svg { width: 12px; height: 12px; fill: var(--primary); color: var(--primary); }
    .footer-copy { font-size: 12px; color: rgba(250,246,241,0.3); }

    /* ===================== SIZE PICKER MODAL ===================== */
    .size-backdrop {
      position: fixed; inset: 0; z-index: 65;
      display: flex; align-items: center; justify-content: center; padding: 16px;
      background: rgba(42,26,16,0.5); backdrop-filter: blur(4px);
      opacity: 0; pointer-events: none; transition: opacity 0.3s;
    }
    .size-backdrop.open { opacity: 1; pointer-events: auto; }
    .size-modal {
      position: relative; z-index: 10;
      width: 100%; max-width: 420px;
      border-radius: 16px; background: var(--card); box-shadow: 0 24px 80px rgba(0,0,0,0.2);
      transform: scale(0.85) translateY(20px); transition: transform 0.4s cubic-bezier(0.16,1,0.3,1);
      overflow: hidden;
    }
    .size-backdrop.open .size-modal { transform: scale(1) translateY(0); }
    .size-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 20px 24px; border-bottom: 1px solid var(--border);
    }
    .size-header h3 {
      font-family: var(--font-serif); font-size: 18px; font-weight: 700; color: var(--card-fg);
    }
    .size-close {
      width: 32px; height: 32px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: none; color: var(--muted-fg); transition: background 0.3s;
    }
    .size-close:hover { background: var(--muted); color: var(--fg); }
    .size-close svg { width: 16px; height: 16px; }
    .size-product-info {
      display: flex; align-items: center; gap: 12px;
      padding: 16px 24px; background: rgba(235,227,214,0.3);
    }
    .size-product-thumb {
      width: 56px; height: 56px; border-radius: 10px; overflow: hidden;
      flex-shrink: 0; background: var(--muted);
    }
    .size-product-thumb img { width: 100%; height: 100%; object-fit: cover; }
    .size-product-name {
      font-size: 13px; font-weight: 600; color: var(--card-fg); line-height: 1.3;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
    .size-options { padding: 20px 24px; display: flex; flex-direction: column; gap: 10px; }
    .size-option {
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 16px; border-radius: 12px;
      border: 2px solid var(--border); background: var(--bg);
      text-align: left; transition: all 0.3s; cursor: pointer;
    }
    .size-option:hover { border-color: rgba(155,35,53,0.3); background: rgba(155,35,53,0.02); }
    .size-option.selected { border-color: var(--primary); background: rgba(155,35,53,0.05); }
    .size-option-left { display: flex; align-items: center; gap: 12px; }
    .size-radio {
      width: 20px; height: 20px; border-radius: 50%;
      border: 2px solid var(--border); display: flex;
      align-items: center; justify-content: center; flex-shrink: 0;
      transition: all 0.3s;
    }
    .size-option.selected .size-radio { border-color: var(--primary); }
    .size-radio-inner {
      width: 10px; height: 10px; border-radius: 50%;
      background: transparent; transition: background 0.3s;
    }
    .size-option.selected .size-radio-inner { background: var(--primary); }
    .size-name { font-size: 14px; font-weight: 600; color: var(--card-fg); }
    .size-sub { font-size: 11px; color: var(--muted-fg); }
    .size-price { font-size: 16px; font-weight: 700; color: var(--primary); white-space: nowrap; }
    .size-footer { padding: 16px 24px 20px; }
    .btn-size-add {
      width: 100%; padding: 14px; border-radius: 999px;
      background: var(--primary); color: var(--primary-fg);
      font-size: 14px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.3s;
    }
    .btn-size-add:hover { box-shadow: 0 8px 24px rgba(155,35,53,0.2); }
    .btn-size-add:active { transform: scale(0.98); }
    .btn-size-add svg { width: 16px; height: 16px; }

    /* Spinner */
    .spinner { width: 16px; height: 16px; border: 2px solid var(--primary-fg); border-top-color: transparent; border-radius: 50%; animation: spinSlow 0.6s linear infinite; }

    /* Toast notification */
    .toast {
      position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(100px);
      padding: 12px 24px; border-radius: 12px; background: var(--fg);
      color: var(--bg); font-size: 14px; font-weight: 500; z-index: 100;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      transition: transform 0.4s cubic-bezier(0.16,1,0.3,1);
    }
    .toast.show { transform: translateX(-50%) translateY(0); }
    .product-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: absolute;
        inset: 0;
        }
        .modal-img .occasion-badge {
  background: var(--primary);
  color: var(--primary-fg);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
  </style>
</head>
<body>
  <!-- ============ NAVBAR ============ -->
  <header class="navbar" id="navbar">
    <div class="rangoli-border"></div>
    <nav class="nav-inner">
      <button class="nav-brand" onclick="scrollToSection('hero')">
        <!-- LOGO PLACEHOLDER: Replace the "U" with an <img> tag pointing to your logo -->
        <div class="logo-placeholder" id="logoPlaceholder">
          <!-- To add your logo, replace the "U" below with: <img src="your-logo.png" alt="Utsav Wraps Logo" /> -->
          <img src="Utsav/assets/Logo-Utsav-removebg-preview.png" alt="Utsav Wraps Logo" />
        </div>
        <div class="brand-text">
          <span class="brand-name">Utsav Wraps</span>
          <span class="brand-tagline">Celebrate Every Moment</span>
        </div>
      </button>
      <ul class="nav-links">
        <li><button onclick="scrollToSection('products')">Products</button></li>
        <li><button onclick="scrollToSection('about')">About</button></li>
        <li><button onclick="scrollToSection('contact')">Contact</button></li>
      </ul>
      <div class="nav-actions">
        <button class="cart-btn" id="cartBtn" onclick="openCart()" aria-label="Open cart">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
          <span class="cart-badge" id="cartBadge" style="display:none;">0</span>
        </button>
        <button class="mobile-toggle" onclick="toggleMobile()" aria-label="Toggle menu" id="mobileToggle">
          <svg id="menuIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
          <svg id="closeMenuIcon" style="display:none;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
    </nav>
    <div class="mobile-menu" id="mobileMenu">
      <ul>
        <li><button onclick="scrollToSection('products')">Products</button></li>
        <li><button onclick="scrollToSection('about')">About</button></li>
        <li><button onclick="scrollToSection('contact')">Contact</button></li>
      </ul>
    </div>
  </header>

  <main>
    <!-- ============ HERO ============ -->
    <section class="hero" id="hero">
      <svg class="hero-mandala left" viewBox="0 0 200 200"><circle cx="100" cy="100" r="90" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.5"/><circle cx="100" cy="100" r="70" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.5"/><circle cx="100" cy="100" r="50" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.5"/><line x1="100" y1="10" x2="100" y2="190" stroke="rgba(253,245,230,1)" stroke-width="0.3" transform="rotate(0 100 100)"/><line x1="100" y1="10" x2="100" y2="190" stroke="rgba(253,245,230,1)" stroke-width="0.3" transform="rotate(30 100 100)"/><line x1="100" y1="10" x2="100" y2="190" stroke="rgba(253,245,230,1)" stroke-width="0.3" transform="rotate(60 100 100)"/><line x1="100" y1="10" x2="100" y2="190" stroke="rgba(253,245,230,1)" stroke-width="0.3" transform="rotate(90 100 100)"/><line x1="100" y1="10" x2="100" y2="190" stroke="rgba(253,245,230,1)" stroke-width="0.3" transform="rotate(120 100 100)"/><line x1="100" y1="10" x2="100" y2="190" stroke="rgba(253,245,230,1)" stroke-width="0.3" transform="rotate(150 100 100)"/></svg>
      <svg class="hero-mandala right" viewBox="0 0 200 200"><circle cx="100" cy="100" r="95" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.3"/><circle cx="100" cy="100" r="75" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.3"/><circle cx="100" cy="100" r="55" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.3"/><circle cx="100" cy="100" r="35" fill="none" stroke="rgba(253,245,230,1)" stroke-width="0.3"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(0 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(15 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(30 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(45 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(60 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(75 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(90 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(105 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(120 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(135 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(150 100 100)"/><line x1="100" y1="5" x2="100" y2="195" stroke="rgba(253,245,230,1)" stroke-width="0.2" transform="rotate(165 100 100)"/></svg>
      <div class="hero-sparkle"><svg class="sparkle-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg></div>
      <div class="hero-sparkle"><svg class="sparkle-svg" style="width:24px;height:24px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg></div>
      <div class="hero-sparkle"><svg class="sparkle-svg" style="width:40px;height:40px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg></div>
      <div class="hero-content">
        <span class="hero-badge" id="heroBadge">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
          Handcrafted with Love
        </span>
        <h1 class="hero-title" id="heroTitle">Utsav Wraps</h1>
        <p class="hero-desc" id="heroDesc">
          Celebrate every Indian festival with our exquisite handcrafted potli bags.
          Each bag tells a story of tradition, craftsmanship, and festive joy.
        </p>
        <div class="hero-buttons" id="heroButtons">
          <button class="btn-shop" onclick="scrollToSection('products')">
            Shop Collection
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
          </button>
          <button class="btn-story" onclick="scrollToSection('about')">Our Story</button>
        </div>
      </div>
      <div class="scroll-indicator" id="scrollIndicator">
        <span>Scroll</span>
        <div class="scroll-pill"><div class="scroll-pill-dot"></div></div>
      </div>
    </section>

    <!-- ============ MARQUEE ============ -->
    <div class="marquee-wrap">
      <div class="marquee-track" id="marqueeTrack"></div>
    </div>

    <!-- ============ PRODUCTS ============ -->
    <section class="products-section" id="products">
      <div class="rangoli-border"></div>
      <div class="container">
        <div class="scroll-hidden" data-scroll>
          <p class="section-label">Our Collection</p>
          <h2 class="section-title">Festive Potli Bags</h2>
          <p class="section-desc">Each potli bag is a work of art, handcrafted to bring the essence of Indian festivals to your gifting moments.</p>
        </div>
        <div class="filter-tabs scroll-hidden" data-scroll id="filterTabs"></div>
        <div class="products-grid" id="productsGrid"></div>
      </div>
    </section>

    <!-- ============ ABOUT ============ -->
    <section class="about-section" id="about">
      <div class="rangoli-border"></div>
      <div class="about-mandala"><svg viewBox="0 0 200 200"><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(0 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(10 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(20 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(30 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(40 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(50 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(60 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(70 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(80 100 100)"/><line x1="100" y1="0" x2="100" y2="200" stroke="currentColor" stroke-width="0.3" transform="rotate(90 100 100)"/><circle cx="100" cy="100" r="90" fill="none" stroke="currentColor" stroke-width="0.5"/><circle cx="100" cy="100" r="60" fill="none" stroke="currentColor" stroke-width="0.5"/><circle cx="100" cy="100" r="30" fill="none" stroke="currentColor" stroke-width="0.5"/></svg></div>
      <div class="container">
        <div class="scroll-hidden" data-scroll>
          <p class="about-label">Our Story</p>
          <h2 class="about-title">Wrapping Celebrations in Tradition</h2>
          <p class="about-desc">Born from a passion for Indian artistry, Utsav Wraps transforms the simple act of gift-giving into a cherished cultural experience. Our potli bags are more than packaging; they are keepsakes that carry forward the warmth and joy of every festival.</p>
        </div>
        <div class="values-grid scroll-hidden" data-scroll id="valuesGrid"></div>
      </div>
    </section>

    <!-- ============ TESTIMONIALS ============ -->
    <section class="testimonials-section">
      <div class="container">
        <div class="scroll-hidden" data-scroll>
          <p class="section-label">Loved by Thousands</p>
          <h2 class="section-title" style="font-size:clamp(28px,4vw,40px);">What Our Customers Say</h2>
        </div>
        <div class="testimonials-grid scroll-hidden" data-scroll id="testimonialsGrid"></div>
      </div>
    </section>

    <!-- ============ CONTACT ============ -->
    <section class="contact-section" id="contact">
      <div class="rangoli-border"></div>
      <div class="container" style="padding-top:32px;">
        <div class="scroll-hidden" data-scroll>
          <p class="section-label">Get in Touch</p>
          <h2 class="section-title" style="font-size:clamp(28px,4vw,40px);">We Would Love to Hear From You</h2>
        </div>
        <div class="contact-grid scroll-hidden" data-scroll>
          <div>
            <p class="contact-info-text">Have questions about our potli bags, need a custom order for your special event, or want to collaborate? Reach out and our team will get back to you within 24 hours.</p>
            <div class="contact-item">
              <div class="contact-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg></div>
              <div><span class="contact-label-sm">Email</span><br/><span class="contact-value">hello@utsavwraps.in</span></div>
            </div>
            <div class="contact-item">
              <div class="contact-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg></div>
              <div><span class="contact-label-sm">Phone</span><br/><span class="contact-value">+91 98765 43210</span></div>
            </div>
            <div class="contact-item">
              <div class="contact-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg></div>
              <div><span class="contact-label-sm">Address</span><br/><span class="contact-value">Nagpur, Maharashta</span></div>
            </div>
          </div>
          <form class="contact-form" onsubmit="event.preventDefault(); showToast('Message sent successfully!');">
            <div class="form-grid form-grid-2">
              <div class="form-group"><label class="form-label">Name</label><input class="form-input" type="text" placeholder="Your name" /></div>
              <div class="form-group"><label class="form-label">Email</label><input class="form-input" type="email" placeholder="you@email.com" /></div>
            </div>
            <div class="form-group"><label class="form-label">Subject</label><input class="form-input" type="text" placeholder="How can we help?" /></div>
            <div class="form-group"><label class="form-label">Message</label><textarea class="form-input" rows="4" placeholder="Tell us about your requirements..."></textarea></div>
            <button type="submit" class="btn-send">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
              Send Message
            </button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <!-- ============ FOOTER ============ -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div>
          <div class="footer-brand">
            <div class="footer-logo" id="footerLogo"><img src="Utsav/assets/Logo-Utsav-removebg-preview.png" alt="Utsav Wraps Logo" /></div>
            <span class="footer-brand-name">Utsav Wraps</span>
          </div>
          <p class="footer-brand-desc">Handcrafted potli bags celebrating the beauty of Indian festivals and traditions.</p>
        </div>
        <div>
          <h4 class="footer-col-title">Quick Links</h4>
          <ul class="footer-links">
            <li onclick="scrollToSection('products')">Shop All</li>
            <li>Wedding Collection</li>
            <li>Festival Specials</li>
            <li>Custom Orders</li>
          </ul>
        </div>
        <div>
          <h4 class="footer-col-title">Support</h4>
          <ul class="footer-links">
            <li>Shipping Policy</li>
            <li>Returns & Exchange</li>
            <li>FAQs</li>
            <li>Track Order</li>
          </ul>
        </div>
        <div>
          <h4 class="footer-col-title">Stay Updated</h4>
          <p class="newsletter-desc">Get festive deals and new collection alerts.</p>
          <div class="newsletter-row">
            <input class="newsletter-input" type="email" placeholder="your@email.com" />
            <button class="newsletter-btn" onclick="showToast('Subscribed successfully!')">Join</button>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-heart">Made with <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg> in India</p>
        <p class="footer-copy">2026 Utsav Wraps. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- ============ CART SIDEBAR ============ -->
  <div class="cart-backdrop" id="cartBackdrop" onclick="closeCart()">
    <div class="cart-sidebar" onclick="event.stopPropagation()">
      <div class="cart-header">
        <div class="cart-header-left">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
          <h2>Your Cart</h2>
          <span class="cart-count-badge" id="cartCountBadge" style="display:none;">0</span>
        </div>
        <button class="cart-close-btn" onclick="closeCart()" aria-label="Close cart">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
      <div class="cart-body" id="cartBody"></div>
      <div class="cart-footer" id="cartFooter" style="display:none;"></div>
    </div>
  </div>

  <!-- ============ CHECKOUT MODAL ============ -->
  <div class="checkout-backdrop" id="checkoutBackdrop" onclick="closeCheckout()">
    <div class="checkout-modal" onclick="event.stopPropagation()">
      <div class="checkout-header">
        <div class="checkout-header-left">
          <button class="back-btn" id="checkoutBackBtn" onclick="checkoutBack()" style="display:none;" aria-label="Back">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
          </button>
          <h2 class="checkout-title" id="checkoutTitle">Shipping Details</h2>
        </div>
        <button class="cart-close-btn" onclick="closeCheckout()" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
      <div class="steps-indicator" id="stepsIndicator"></div>
      <div class="checkout-body" id="checkoutBody"></div>
    </div>
  </div>

  <!-- ============ SIZE PICKER MODAL ============ -->
  <div class="size-backdrop" id="sizeBackdrop" onclick="closeSizePicker()">
    <div class="size-modal" onclick="event.stopPropagation()">
      <div class="size-header">
        <h3>Select Size</h3>
        <button class="size-close" onclick="closeSizePicker()" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
      <div id="sizeProductInfo" class="size-product-info"></div>
      <div id="sizeOptions" class="size-options"></div>
      <div class="size-footer">
        <button class="btn-size-add" id="btnSizeAdd" onclick="confirmSizeAdd()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
          Add to Cart
        </button>
      </div>
    </div>
  </div>

  <!-- ============ TOAST ============ -->
  <div class="toast" id="toast"></div>

  <!-- ============ ICONS TEMPLATE (hidden) ============ -->
  <template id="svgImage"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg></template>

  <script>
    // ===================== DATA =====================
    const products = [
      { id:'wedding-potli', name:'Customized Wedding Gift Wrapper Potli Bag', price:199, occasion:'Wedding', cssClass:'wedding',image:'wedding-potli.jpg',
        description:'Elegant handcrafted potli bag perfect for wedding favors and trousseau packing. Adorned with intricate embroidery and golden tassels, this potli bag adds a royal touch to your wedding gifts. Made with premium silk fabric and detailed zari work.',
        colors:['Maroon','Gold','Ivory'], features:['Premium silk fabric','Handcrafted zari embroidery','Golden tassel drawstring','Customizable name tag','Fits standard gift boxes'] },
      { id:'karva-chauth-potli', name:'Karva Chauth Gift Wrapper Potli Bag', price:149, occasion:'Karva Chauth', cssClass:'karva-chauth',image:'karva-chauth-potli.jpg',
        description:'Beautifully designed potli bag celebrating the sacred bond of Karva Chauth. Featuring traditional moon and karva motifs with rich vermillion and gold color palette. Perfect for gifting sargi items and jewelry.',
        colors:['Red','Gold','Orange'], features:['Traditional moon motifs','Rich velvet fabric','Embroidered karva design','Satin lining inside','Reusable keepsake'] },
      { id:'holi-potli', name:'Holi Gift Wrapper Potli Bag', price:129, occasion:'Holi', cssClass:'holi',image:'holi-potli.png',
        description:'Vibrant and colorful potli bag that captures the spirit of Holi. Splashed with rainbow hues and playful gulal patterns, this bag is perfect for wrapping Holi sweets, colors, and party favors.',
        colors:['Multi-color','Pink','Yellow'], features:['Splash-proof lining','Vibrant color patterns','Sturdy cotton fabric','Generous size for sweets','Eco-friendly dyes'] },
      { id:'diwali-potli', name:'Diwali Gift Wrapper Potli Bag', price:179, occasion:'Diwali', cssClass:'diwali',image:'diwali-potli.png',
        description:'Illuminate your Diwali gifting with this exquisite potli bag featuring traditional diya and rangoli motifs. Crafted with shimmer fabric and golden thread work, it makes every Diwali gift feel special and festive.',
        colors:['Deep Purple','Gold','Maroon'], features:['Shimmer brocade fabric','Diya & rangoli embroidery','Golden drawstring closure','Perfect for dry fruits & sweets','Festive gift tag included'] },
      { id:'sawan-potli', name:'Sawan Gift Wrapper Potli Bag', price:139, occasion:'Sawan', cssClass:'sawan',image:'sawan-potli.png',
        description:'Embrace the monsoon magic of Sawan with this refreshing green-themed potli bag. Decorated with peacock feather patterns and mehndi-inspired motifs, it is ideal for wrapping puja items and festive gifts.',
        colors:['Green','Teal','Gold'], features:['Peacock feather design','Water-resistant fabric','Mehndi-inspired patterns','Sturdy drawstring','Perfect for puja items'] },
      { id:'gangaur-potli', name:'Gangaur Gift Wrapper Potli Bag', price:159, occasion:'Gangaur', cssClass:'gangaur',image:'gangaur-potli.png',
        description:'Celebrate the Rajasthani festival of Gangaur with this traditionally inspired potli bag. Features folk art patterns, bandhani-print fabric, and mirror work embellishments that reflect the vibrant culture of Rajasthan.',
        colors:['Hot Pink','Yellow','Mirror Work'], features:['Bandhani-print fabric','Mirror work accents','Rajasthani folk motifs','Premium finish','Cultural collectible'] },
    ];

    const festivals = ['Diwali','Wedding','Holi','Karva Chauth','Sawan','Gangaur','Raksha Bandhan','Navratri','Eid','Christmas','Baisakhi','Pongal'];
    const values = [
      { icon:'heart', title:'Handcrafted with Love', desc:'Every potli bag is hand-stitched by skilled artisans preserving centuries-old Indian craft traditions.' },
      { icon:'sparkle', title:'Festival Inspired', desc:'Designs inspired by the vibrant colors, motifs and essence of India\'s beloved festivals.' },
      { icon:'package', title:'Premium Quality', desc:'We use only the finest fabrics, threads and embellishments to ensure lasting beauty.' },
      { icon:'leaf', title:'Eco Friendly', desc:'Reusable and crafted with sustainable materials, our bags are kind to the planet.' },
    ];
    const testimonials = [
      { name:'Priya Sharma', location:'Jaipur', text:'The Gangaur potli bags were absolutely stunning! Everyone at the festival was asking where I got them. Truly a piece of Rajasthani art.', rating:5 },
      { name:'Anita Gupta', location:'Delhi', text:'I ordered 50 wedding potli bags for my daughter\'s wedding. The quality and customization exceeded all expectations. The guests loved them!', rating:5 },
      { name:'Meena Patel', location:'Mumbai', text:'Diwali gifting was so special this year thanks to Utsav Wraps. The shimmer fabric and diya motifs made each gift memorable.', rating:5 },
    ];

    const iconSVGs = {
      heart: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>',
      sparkle: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>',
      package: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7.5 4.27 9 5.15"/><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg>',
      leaf: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 20A7 7 0 0 1 9.8 6.9C15.5 4.9 17 3.5 19 2c1 2 2 4.5 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>',
      star: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>',
      quote: '<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V21c0 1 0 1 1 1z"/><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/></svg>',
      check: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',
      image: '<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>',
      eye: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>',
      bag: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>',
      minus: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/></svg>',
      plus: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="M12 5v14"/></svg>',
      trash: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>',
      truck: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M15 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 13.52 8H14"/><circle cx="17" cy="18" r="2"/><circle cx="7" cy="18" r="2"/></svg>',
      shield: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>',
      refresh: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>',
      lock: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',
      smartphone: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>',
      creditcard: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></svg>',
      building: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><path d="M9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M12 6h.01"/><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/></svg>',
      wallet: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2.5"/><path d="M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"/></svg>',
      arrow: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>',
    };

    // ===================== CART STATE =====================
    let cart = [];
    let currentFilter = 'All';
    let checkoutStep = 'shipping';
    let paymentMethod = 'upi';

    // ===================== INIT =====================
    document.addEventListener('DOMContentLoaded', () => {
      initHero();
      initMarquee();
      initFilterTabs();
      renderProducts();
      initValues();
      initTestimonials();
      initScrollAnimations();
      initNavScroll();
    });

    // ===================== HERO ANIMATION =====================
    function initHero() {
      setTimeout(() => {
        document.getElementById('heroBadge').classList.add('visible');
        document.getElementById('heroTitle').classList.add('visible');
        document.getElementById('heroDesc').classList.add('visible');
        document.getElementById('heroButtons').classList.add('visible');
        document.getElementById('scrollIndicator').classList.add('visible');
      }, 100);
    }

    // ===================== NAVBAR SCROLL =====================
    function initNavScroll() {
      window.addEventListener('scroll', () => {
        document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 40);
      });
    }

    // ===================== SMOOTH SCROLL =====================
    function scrollToSection(id) {
      document.getElementById(id)?.scrollIntoView({ behavior:'smooth' });
      closeMobile();
    }

    // ===================== MOBILE MENU =====================
    let mobileOpen = false;
    function toggleMobile() {
      mobileOpen = !mobileOpen;
      document.getElementById('mobileMenu').classList.toggle('open', mobileOpen);
      document.getElementById('menuIcon').style.display = mobileOpen ? 'none' : 'block';
      document.getElementById('closeMenuIcon').style.display = mobileOpen ? 'block' : 'none';
    }
    function closeMobile() {
      mobileOpen = false;
      document.getElementById('mobileMenu').classList.remove('open');
      document.getElementById('menuIcon').style.display = 'block';
      document.getElementById('closeMenuIcon').style.display = 'none';
    }

    // ===================== MARQUEE =====================
    function initMarquee() {
      const track = document.getElementById('marqueeTrack');
      const all = [...festivals, ...festivals];
      track.innerHTML = all.map(f => `<span class="marquee-item">${f}<span class="marquee-dot"></span></span>`).join('');
    }

    // ===================== FILTER TABS =====================
    function initFilterTabs() {
      const occasions = ['All', ...new Set(products.map(p => p.occasion))];
      const container = document.getElementById('filterTabs');
      container.innerHTML = occasions.map(o =>
        `<button class="filter-tab${o === currentFilter ? ' active' : ''}" onclick="filterProducts('${o}')">${o}</button>`
      ).join('');
    }

    function filterProducts(occ) {
      currentFilter = occ;
      initFilterTabs();
      renderProducts();
    }

    // ===================== RENDER PRODUCTS =====================
    function renderProducts() {
      const filtered = currentFilter === 'All' ? products : products.filter(p => p.occasion === currentFilter);
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = filtered.map((p, i) => `
        <div class="product-card scroll-hidden" data-scroll style="transition-delay:${i * 100}ms">
          <div class="product-img-wrap ${p.cssClass}">
            <img src="Utsav/assets/${p.image}" alt="${p.name}" class="product-image" />
            <span class="occasion-badge">${p.occasion}</span>
            <div class="card-overlay">
              <button class="overlay-btn view" onclick="openProductDetail('${p.id}')" aria-label="View details">${iconSVGs.eye}</button>
              <button class="overlay-btn add" onclick="addToCart('${p.id}')" aria-label="Add to cart">${iconSVGs.bag}</button>
            </div>
          </div>
          <div class="card-info">
            <h3 class="card-name">${p.name}</h3>
            <div class="card-bottom">
              <span class="card-price">\u20B9${p.price}</span>
              <button class="btn-add-cart" onclick="addToCart('${p.id}')">Add to Cart</button>
            </div>
          </div>
        </div>
      `).join('');
      // Re-observe new scroll elements
      setTimeout(() => initScrollAnimations(), 50);
    }

    // ===================== VALUES =====================
    function initValues() {
      document.getElementById('valuesGrid').innerHTML = values.map((v, i) => `
        <div class="value-card" style="transition-delay:${i * 100}ms">
          <div class="value-icon">${iconSVGs[v.icon]}</div>
          <h3 class="value-title">${v.title}</h3>
          <p class="value-desc">${v.desc}</p>
        </div>
      `).join('');
    }

    // ===================== TESTIMONIALS =====================
    function initTestimonials() {
      document.getElementById('testimonialsGrid').innerHTML = testimonials.map((t, i) => `
        <div class="testimonial-card" style="transition-delay:${i * 150}ms">
          <div class="quote-icon">${iconSVGs.quote}</div>
          <div class="stars">${Array(t.rating).fill(iconSVGs.star).join('')}</div>
          <p class="testimonial-text">"${t.text}"</p>
          <div class="testimonial-footer">
            <span class="testimonial-name">${t.name}</span><br/>
            <span class="testimonial-loc">${t.location}</span>
          </div>
        </div>
      `).join('');
    }

    // ===================== SCROLL ANIMATIONS =====================
    function initScrollAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('scroll-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.scroll-hidden:not(.scroll-visible)').forEach(el => observer.observe(el));
    }

    // ===================== PRODUCT DETAIL MODAL =====================
    function openProductDetail(id) {
      const p = products.find(x => x.id === id);
      if (!p) return;
      const modal = document.getElementById('checkoutBackdrop'); // Reuse? No, use product modal
      const backdrop = document.querySelector('.modal-backdrop') || createProductModal();
      renderProductModal(p);
      backdrop.classList.add('open');
      document.body.style.overflow = 'hidden';
    }

    function createProductModal() {
      const div = document.createElement('div');
      div.className = 'modal-backdrop';
      div.id = 'productModal';
      div.onclick = function(e) { if (e.target === div) closeProductModal(); };
      div.innerHTML = `<div class="modal-content" onclick="event.stopPropagation()">
        <button class="modal-close" onclick="closeProductModal()" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button>
        <div class="modal-grid" id="modalGrid"></div>
      </div>`;
      document.body.appendChild(div);
      return div;
    }

    let modalQty = 1;
    let modalAdded = false;

    function renderProductModal(p) {
      modalQty = 1;
      modalAdded = false;
      const grid = document.getElementById('modalGrid');
      grid.innerHTML = `
        <div class="modal-img product-img-wrap ${p.cssClass}">
          <img src="Utsav/assets/${p.image}" alt="${p.name}" class="product-image" />
          <span class="occasion-badge">${p.occasion}</span>
        </div>
        <div class="modal-details">
          <div>
            <h2 class="modal-title">${p.name}</h2>
            <div class="modal-rating">
              <div class="stars">${Array(5).fill(iconSVGs.star).join('')}</div>
              <span class="rating-text">(127 reviews)</span>
            </div>
          </div>
          <div class="modal-price-row">
            <span class="modal-price">\u20B9${p.price}</span>
            <span class="modal-price-old">\u20B9${Math.round(p.price * 1.4)}</span>
            <span class="discount-badge">30% OFF</span>
          </div>
          <p class="modal-desc">${p.description}</p>
          <div>
            <span class="detail-label">Available Colors</span>
            <div class="color-tags">${p.colors.map(c => `<span class="color-tag">${c}</span>`).join('')}</div>
          </div>
          <div>
            <span class="detail-label">Features</span>
            <ul class="features-list">${p.features.map(f => `<li>${iconSVGs.check} ${f}</li>`).join('')}</ul>
          </div>
          <div class="qty-row">
            <span class="detail-label">Qty</span>
            <div class="qty-control">
              <button class="qty-btn" onclick="changeModalQty(-1, '${p.id}')">${iconSVGs.minus}</button>
              <span class="qty-val" id="modalQtyVal">1</span>
              <button class="qty-btn" onclick="changeModalQty(1, '${p.id}')">${iconSVGs.plus}</button>
            </div>
          </div>
          <button class="btn-add-full default" id="modalAddBtn" onclick="addFromModal('${p.id}')">
            ${iconSVGs.bag} Add to Cart - \u20B9${p.price}
          </button>
          <div class="trust-row">
            <span class="trust-item">${iconSVGs.truck} Free Delivery</span>
            <span class="trust-item">${iconSVGs.shield} Secure Payment</span>
            <span class="trust-item">${iconSVGs.refresh} Easy Returns</span>
          </div>
        </div>
      `;
    }

    function changeModalQty(delta, id) {
      modalQty = Math.max(1, modalQty + delta);
      const el = document.getElementById('modalQtyVal');
      if (el) el.textContent = modalQty;
      const p = products.find(x => x.id === id);
      const btn = document.getElementById('modalAddBtn');
      if (p && btn && !modalAdded) btn.innerHTML = `${iconSVGs.bag} Add to Cart - \u20B9${p.price * modalQty}`;
    }

    function addFromModal(id) {
      if (modalAdded) return;
      const p = products.find(x => x.id === id);
      if (!p) return;
      sizePickerQty = modalQty;
      sizePickerFromModal = true;
      openSizePicker(id);
    }

    function closeProductModal() {
      const modal = document.getElementById('productModal');
      if (modal) modal.classList.remove('open');
      document.body.style.overflow = '';
    }

    // ===================== SIZE DEFINITIONS =====================
    const sizeOptions = [
      { id: 'xs', name: 'Extra Small', sub: 'Jewellery Bag', multiplier: 0.7 },
      { id: 'sm', name: 'Small', sub: '', multiplier: 1.0 },
      { id: 'md', name: 'Medium', sub: '', multiplier: 1.3 },
      { id: 'lg', name: 'Large', sub: '', multiplier: 1.6 },
    ];
    let sizePickerProduct = null;
    let selectedSize = 'sm';

    function openSizePicker(id) {
      const p = products.find(x => x.id === id);
      if (!p) return;
      sizePickerProduct = p;
      selectedSize = 'sm';
      renderSizePicker();
      document.getElementById('sizeBackdrop').classList.add('open');
      document.body.style.overflow = 'hidden';
    }

    function closeSizePicker() {
      document.getElementById('sizeBackdrop').classList.remove('open');
      // Only restore scroll if no other modal is open
      const productModal = document.getElementById('productModal');
      const isProductModalOpen = productModal && productModal.classList.contains('open');
      if (!isProductModalOpen) {
        document.body.style.overflow = '';
      }
      sizePickerProduct = null;
    }

    function selectSize(sizeId) {
      selectedSize = sizeId;
      renderSizePicker();
    }

    function getSizePrice(basePrice, sizeId) {
      const size = sizeOptions.find(s => s.id === sizeId);
      return Math.round(basePrice * (size ? size.multiplier : 1));
    }

    function renderSizePicker() {
      const p = sizePickerProduct;
      if (!p) return;

      document.getElementById('sizeProductInfo').innerHTML = `
        <div class="size-product-thumb">
          <img src="Utsav/assets/${p.image}" alt="${p.name}" />
        </div>
        <div>
          <div class="size-product-name">${p.name}</div>
        </div>
      `;

      document.getElementById('sizeOptions').innerHTML = sizeOptions.map(s => {
        const price = getSizePrice(p.price, s.id);
        const isSelected = selectedSize === s.id;
        return `
          <button class="size-option${isSelected ? ' selected' : ''}" onclick="selectSize('${s.id}')">
            <div class="size-option-left">
              <div class="size-radio"><div class="size-radio-inner"></div></div>
              <div>
                <div class="size-name">${s.name}${s.sub ? ' (' + s.sub + ')' : ''}</div>
                ${s.sub ? '' : '<div class="size-sub">&nbsp;</div>'}
              </div>
            </div>
            <span class="size-price">\u20B9${price}</span>
          </button>
        `;
      }).join('');

      const selectedPrice = getSizePrice(p.price, selectedSize);
      document.getElementById('btnSizeAdd').innerHTML = `
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
        Add to Cart - \u20B9${selectedPrice}
      `;
    }

    let sizePickerQty = 1;
    let sizePickerFromModal = false;

    function confirmSizeAdd() {
      if (!sizePickerProduct) return;
      const size = sizeOptions.find(s => s.id === selectedSize);
      const price = getSizePrice(sizePickerProduct.price, selectedSize);
      const sizeName = size.name + (size.sub ? ' (' + size.sub + ')' : '');
      // Add with correct quantity
      const cartId = sizePickerProduct.id + '-' + selectedSize;
      const existing = cart.find(x => x.cartId === cartId);
      if (existing) { existing.quantity += sizePickerQty; }
      else { cart.push({ cartId: cartId, product: sizePickerProduct, size: sizeName, sizeId: selectedSize, price: price, quantity: sizePickerQty }); }
      updateCartUI();
      showToast(`${sizePickerProduct.name.split(' ').slice(0,3).join(' ')}... (${sizeName}) added to cart`);
      const cartBtn = document.getElementById('cartBtn');
      cartBtn.classList.add('bounce');
      setTimeout(() => cartBtn.classList.remove('bounce'), 400);
      // Show "Added" feedback on modal button if opened from product modal
      if (sizePickerFromModal) {
        const btn = document.getElementById('modalAddBtn');
        if (btn) {
          modalAdded = true;
          btn.className = 'btn-add-full added';
          btn.innerHTML = `${iconSVGs.check} Added to Cart!`;
          const pp = sizePickerProduct;
          const mq = modalQty;
          setTimeout(() => {
            modalAdded = false;
            btn.className = 'btn-add-full default';
            btn.innerHTML = `${iconSVGs.bag} Add to Cart - \u20B9${pp.price * mq}`;
          }, 1500);
        }
      }
      sizePickerFromModal = false;
      sizePickerQty = 1;
      closeSizePicker();
    }

    // ===================== CART LOGIC =====================
    function addToCart(id) {
      openSizePicker(id);
    }

    function addToCartWithSize(p, sizeId, sizeName, price) {
      const cartId = p.id + '-' + sizeId;
      const existing = cart.find(x => x.cartId === cartId);
      if (existing) { existing.quantity++; }
      else { cart.push({ cartId: cartId, product: p, size: sizeName, sizeId: sizeId, price: price, quantity: 1 }); }
      updateCartUI();
      showToast(`${p.name.split(' ').slice(0,3).join(' ')}... (${sizeName}) added to cart`);
      const btn = document.getElementById('cartBtn');
      btn.classList.add('bounce');
      setTimeout(() => btn.classList.remove('bounce'), 400);
    }

    function addToCartDirect(p) {
      openSizePicker(p.id);
    }

    function removeFromCart(cartId) {
      cart = cart.filter(x => x.cartId !== cartId);
      updateCartUI(); renderCartBody();
    }

    function updateItemQty(cartId, delta) {
      const item = cart.find(x => x.cartId === cartId);
      if (!item) return;
      item.quantity += delta;
      if (item.quantity <= 0) { removeFromCart(cartId); return; }
      updateCartUI(); renderCartBody();
    }

    function clearCartAll() { cart = []; updateCartUI(); renderCartBody(); }

    function getTotalItems() { return cart.reduce((s, i) => s + i.quantity, 0); }
    function getTotalPrice() { return cart.reduce((s, i) => s + i.price * i.quantity, 0); }

    function updateCartUI() {
      const count = getTotalItems();
      const badge = document.getElementById('cartBadge');
      const countBadge = document.getElementById('cartCountBadge');
      if (count > 0) {
        badge.style.display = 'flex'; badge.textContent = count;
        countBadge.style.display = 'inline-flex'; countBadge.textContent = count;
      } else {
        badge.style.display = 'none';
        countBadge.style.display = 'none';
      }
    }

    // ===================== CART SIDEBAR =====================
    function openCart() {
      renderCartBody();
      document.getElementById('cartBackdrop').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    function closeCart() {
      document.getElementById('cartBackdrop').classList.remove('open');
      document.body.style.overflow = '';
    }

    function renderCartBody() {
      const body = document.getElementById('cartBody');
      const footer = document.getElementById('cartFooter');
      if (cart.length === 0) {
        body.innerHTML = `<div class="cart-empty">
          <div class="cart-empty-icon">${iconSVGs.bag.replace('width="20"','width="40"').replace('height="20"','height="40"')}</div>
          <p>Your cart is empty</p>
          <button class="btn-continue" onclick="closeCart()">Continue Shopping</button>
        </div>`;
        footer.style.display = 'none';
        return;
      }
      body.innerHTML = `<div class="cart-items">
        ${cart.map(item => `
          <div class="cart-item">
            <div class="cart-item-img" style="overflow:hidden;border-radius:8px;">
              <img src="Utsav/assets/${item.product.image}" alt="${item.product.name}" style="width:100%;height:100%;object-fit:cover;" />
            </div>
            <div class="cart-item-info">
              <h4 class="cart-item-name">${item.product.name}</h4>
              <span style="font-size:11px;color:var(--muted-fg);">Size: ${item.size}</span>
              <span class="cart-item-price">\u20B9${item.price}</span>
              <div class="cart-item-actions">
                <div class="mini-qty">
                  <button onclick="updateItemQty('${item.cartId}', -1)">${iconSVGs.minus}</button>
                  <span>${item.quantity}</span>
                  <button onclick="updateItemQty('${item.cartId}', 1)">${iconSVGs.plus}</button>
                </div>
                <button class="remove-btn" onclick="removeFromCart('${item.cartId}')">${iconSVGs.trash}</button>
              </div>
            </div>
          </div>
        `).join('')}
        <button class="clear-all-btn" onclick="clearCartAll()">Clear all items</button>
      </div>`;
      footer.style.display = 'block';
      const total = getTotalPrice();
      footer.innerHTML = `
        <div class="cart-row"><span class="label">Subtotal</span><span class="value">\u20B9${total}</span></div>
        <div class="cart-row"><span class="label">Shipping</span><span class="value green">Free</span></div>
        <div class="cart-total-row"><span class="cart-total-label">Total</span><span class="cart-total-price">\u20B9${total}</span></div>
        <button class="btn-checkout" onclick="goToCheckout()">Proceed to Checkout ${iconSVGs.arrow}</button>
      `;
    }

    // ===================== CHECKOUT =====================
    function goToCheckout() {
      closeCart();
      checkoutStep = 'shipping';
      paymentMethod = 'upi';
      renderCheckout();
      document.getElementById('checkoutBackdrop').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    function closeCheckout() {
      document.getElementById('checkoutBackdrop').classList.remove('open');
      document.body.style.overflow = '';
    }
    function checkoutBack() {
      if (checkoutStep === 'payment') { checkoutStep = 'shipping'; renderCheckout(); }
    }

    function renderCheckout() {
      const title = document.getElementById('checkoutTitle');
      const backBtn = document.getElementById('checkoutBackBtn');
      const steps = document.getElementById('stepsIndicator');
      const body = document.getElementById('checkoutBody');

      const stepNames = ['Shipping','Payment','Confirm'];
      const stepIdx = checkoutStep === 'shipping' ? 0 : checkoutStep === 'payment' ? 1 : 2;

      title.textContent = checkoutStep === 'shipping' ? 'Shipping Details' : checkoutStep === 'payment' ? 'Payment' : 'Order Confirmed!';
      backBtn.style.display = (checkoutStep === 'payment') ? 'flex' : 'none';

      // Steps indicator
      steps.innerHTML = stepNames.map((label, i) => {
        const done = i < stepIdx;
        const active = i === stepIdx;
        const circleClass = done ? 'done' : active ? 'active' : 'pending';
        const labelClass = active ? 'active' : 'dim';
        const circleContent = done ? iconSVGs.check : (i + 1);
        const line = i < 2 ? `<div class="step-line ${done ? 'done' : 'pending'}"></div>` : '';
        return `<div class="step-item">
          <div class="step-circle ${circleClass}">${circleContent}</div>
          <span class="step-label ${labelClass}">${label}</span>
          ${line}
        </div>`;
      }).join('');

      // Body content
      if (checkoutStep === 'shipping') {
        const total = getTotalPrice();
        body.innerHTML = `
          <div style="animation:fadeInUp 0.3s ease-out;">
            <div class="form-grid form-grid-2">
              <div class="form-group"><label class="form-label">Full Name</label><input class="form-input" type="text" placeholder="Enter your name"/></div>
              <div class="form-group"><label class="form-label">Phone</label><input class="form-input" type="tel" placeholder="+91 XXXXX XXXXX"/></div>
            </div>
            <div class="form-group" style="margin-top:16px;"><label class="form-label">Email</label><input class="form-input" type="email" placeholder="you@email.com"/></div>
            <div class="form-group" style="margin-top:16px;"><label class="form-label">Delivery Address</label><textarea class="form-input" rows="3" placeholder="Full address with pincode"></textarea></div>
            <div class="form-grid form-grid-2" style="margin-top:16px;">
              <div class="form-group"><label class="form-label">City</label><input class="form-input" type="text" placeholder="City"/></div>
              <div class="form-group"><label class="form-label">PIN Code</label><input class="form-input" type="text" placeholder="XXXXXX"/></div>
            </div>
            <div class="order-summary-mini">
              <h4 class="summary-title">Order Summary (${getTotalItems()} items)</h4>
              ${cart.map(item => `<div class="summary-item">
                <div class="summary-item-img" style="overflow:hidden;border-radius:8px;">
                  <img src="Utsav/assets/${item.product.image}" alt="${item.product.name}" style="width:100%;height:100%;object-fit:cover;" />
                </div>
                <span class="summary-item-name">${item.product.name} (${item.size})</span>
                <span class="summary-item-price">\u20B9${item.price} x${item.quantity}</span>
              </div>`).join('')}
              <div class="summary-total-row">
                <span class="summary-total-label">Total</span>
                <span class="summary-total-price">\u20B9${total}</span>
              </div>
            </div>
            <button class="btn-primary-full" onclick="checkoutStep='payment'; renderCheckout();">
              ${iconSVGs.truck} Continue to Payment
            </button>
          </div>
        `;
      } else if (checkoutStep === 'payment') {
        const total = getTotalPrice();
        const methods = [
          { id:'upi', label:'UPI / Google Pay', icon:'smartphone', desc:'Pay via UPI ID' },
          { id:'card', label:'Credit / Debit Card', icon:'creditcard', desc:'Visa, Mastercard, RuPay' },
          { id:'netbanking', label:'Net Banking', icon:'building', desc:'All major banks' },
          { id:'cod', label:'Cash on Delivery', icon:'wallet', desc:'Pay when you receive' },
        ];
        body.innerHTML = `
          <div style="animation:fadeInUp 0.3s ease-out;">
            <div class="payment-methods">
              ${methods.map(m => `
                <button class="payment-option${paymentMethod === m.id ? ' selected' : ''}" onclick="paymentMethod='${m.id}'; renderCheckout();">
                  <div class="payment-icon ${paymentMethod === m.id ? 'active' : 'inactive'}">${iconSVGs[m.icon]}</div>
                  <div><span class="payment-label">${m.label}</span><br/><span class="payment-desc">${m.desc}</span></div>
                </button>
              `).join('')}
            </div>
            ${paymentMethod === 'upi' ? `<div class="payment-detail-box"><div class="form-group"><label class="form-label">UPI ID</label><input class="form-input" type="text" placeholder="yourname@upi"/></div><p style="font-size:11px;color:var(--muted-fg);margin-top:8px;">Supports Google Pay, PhonePe, Paytm, BHIM & more</p></div>` : ''}
            ${paymentMethod === 'card' ? `<div class="payment-detail-box"><div class="form-group"><label class="form-label">Card Number</label><input class="form-input" type="text" placeholder="XXXX XXXX XXXX XXXX"/></div><div class="form-grid form-grid-2" style="margin-top:12px;"><div class="form-group"><label class="form-label">Expiry</label><input class="form-input" type="text" placeholder="MM/YY"/></div><div class="form-group"><label class="form-label">CVV</label><input class="form-input" type="password" placeholder="***"/></div></div></div>` : ''}
            ${paymentMethod === 'netbanking' ? `<div class="payment-detail-box"><div class="form-group"><label class="form-label">Select Bank</label><select class="form-input"><option>State Bank of India</option><option>HDFC Bank</option><option>ICICI Bank</option><option>Axis Bank</option><option>Punjab National Bank</option><option>Bank of Baroda</option><option>Kotak Mahindra Bank</option></select></div></div>` : ''}
            ${paymentMethod === 'cod' ? `<div class="payment-detail-box"><p>Pay with cash when your order is delivered. A nominal convenience fee of \u20B920 may apply.</p></div>` : ''}
            <div class="amount-box">
              <span class="amount-label">Amount to Pay</span>
              <span class="amount-value">\u20B9${paymentMethod === 'cod' ? total + 20 : total}</span>
            </div>
            <button class="btn-primary-full" id="payBtn" onclick="processPayment()">
              ${iconSVGs.lock} ${paymentMethod === 'cod' ? 'Place Order' : 'Pay \u20B9' + (paymentMethod === 'cod' ? total + 20 : total)}
            </button>
            <div class="security-note">${iconSVGs.lock.replace('width="16"','width="12"').replace('height="16"','height="12"')} Your payment information is secured with 256-bit encryption</div>
          </div>
        `;
      } else {
        // Success
        const orderId = 'UW' + Date.now().toString().slice(-6);
        body.innerHTML = `
          <div class="success-view">
            <div class="success-circle"><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg></div>
            <div>
              <h3 class="success-title">Thank You!</h3>
              <p class="success-desc">Your order has been placed successfully.</p>
              <p class="success-desc">Order ID: <span class="order-id">#${orderId}</span></p>
            </div>
            <div class="success-box"><p>We have sent a confirmation to your email. Your potli bags will be carefully packed and shipped within 2-3 business days.</p></div>
            <button class="btn-continue" onclick="closeCheckout()">Continue Shopping</button>
          </div>
        `;
      }
    }

    function processPayment() {
      const btn = document.getElementById('payBtn');
      btn.disabled = true;
      btn.innerHTML = '<div class="spinner"></div> Processing...';
      setTimeout(() => {
        cart = [];
        updateCartUI();
        checkoutStep = 'success';
        renderCheckout();
      }, 2000);
    }

    // ===================== TOAST =====================
    function showToast(msg) {
      const toast = document.getElementById('toast');
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2500);
    }
  </script>
</body>
</html>
